<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="It's very constructive to understand the relationship between the functions 
 available in highcharter and the underlying highchartsJS API in more detail.
">
<title>Javascript API Basics • highcharter</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Javascript API Basics">
<meta property="og:description" content="It's very constructive to understand the relationship between the functions 
 available in highcharter and the underlying highchartsJS API in more detail.
">
<meta property="og:image" content="https://jkunst.com/highcharter/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">highcharter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.4.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/highcharter.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Get Started</h6>
    <a class="dropdown-item" href="../articles/first-steps.html">First steps on highcharter package</a>
    <a class="dropdown-item" href="../articles/showcase.html">Showcase</a>
    <a class="dropdown-item" href="../articles/hchart.html">hchart Function</a>
    <a class="dropdown-item" href="../articles/highcharts-api.html">Highcharts API</a>
    <a class="dropdown-item" href="../articles/highchartsjs-api-basics.html">Javascript API Basics</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>The highchartsJS bundle</h6>
    <a class="dropdown-item" href="../articles/highcharts.html">Charts with highcharts</a>
    <a class="dropdown-item" href="../articles/maps.html">Maps with highmaps</a>
    <a class="dropdown-item" href="../articles/stock.html">Stocks with highstock</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Shiny Integration</h6>
    <a class="dropdown-item" href="../articles/shiny.html">Shiny Examples</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Experiments &amp; Examples</h6>
    <a class="dropdown-item" href="../articles/fontawesome.html">Fontawesome integration</a>
    <a class="dropdown-item" href="../articles/drilldown.html">Drilldown</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>More of highcharter</h6>
    <a class="dropdown-item" href="../articles/themes.html">Themes</a>
    <a class="dropdown-item" href="../articles/howtos.html">Commons HOW TOs</a>
    <a class="dropdown-item" href="../articles/modules.html">Modules &amp; plugins</a>
    <a class="dropdown-item" href="../articles/motion.html">Motion plugin</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jbkunst/highcharter/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Javascript API Basics</h1>
                        <h4 data-toc-skip class="author">Tom Bishop</h4>
            
            <h4 data-toc-skip class="date">2022-08-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jbkunst/highcharter/blob/HEAD/vignettes/highchartsjs-api-basics.Rmd" class="external-link"><code>vignettes/highchartsjs-api-basics.Rmd</code></a></small>
      <div class="d-none name"><code>highchartsjs-api-basics.Rmd</code></div>
    </div>

    
    
<script>
$(document).ready(function(){ 
  el = $(".page-header > h1")
  icon = "search"
  text = el.text()
  text_new = "<span class=\"fa fa-" + icon  + "\"></span> " + text
  el.html(text_new) 
}) ;
</script><div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>It’s very constructive to understand the relationship between the functions available in highcharter and the underlying highchartsJS API in more detail. Understanding the relationship will allow you to:</p>
<ul>
<li>Search for all the available chart customisation options implemented as arguments in the various <code>highcharter</code> functions.</li>
<li>Reverse engineer R implementations of any <code>highcharts</code> chart you see created in javascript instead of R.</li>
<li>Use the javascript <a href="https://api.highcharts.com/highcharts/" class="external-link">API reference documentation</a> directly to help you build your <code>highcharts</code> charts in R.</li>
</ul>
<p>To explore this relationship, we’ll be looking at the Palmer penguins dataset.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/" class="external-link">palmerpenguins</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">)</span></span></code></pre></div>
<p>Let’s first assume that we have a base chart with some visualisation of a dataset. To build a scatter plot of the Palmer penguins’ bill length vs flipper length split by species we would use the following code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jkunst.com/highcharter/">highcharter</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">hc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hchart.html">hchart</a></span><span class="op">(</span></span>
<span>  <span class="va">penguins</span>,</span>
<span>  <span class="st">"scatter"</span>,</span>
<span>  <span class="fu"><a href="../reference/hcaes.html">hcaes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bill_length_mm</span>, y <span class="op">=</span> <span class="va">flipper_length_mm</span>, group <span class="op">=</span> <span class="va">species</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">hc</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Suppose we want to customise the chart legend on our <code>highchart</code>. Let’s say we want to: place the legend inside the plot area, arrange the legend entries in a vertical arrangement, and add a title to the legend.</p>
<p>Let’s check the documentation of the <code><a href="../reference/hc_legend.html">hc_legend()</a></code> with <code><a href="../reference/hc_legend.html">?hc_legend</a></code> function in R to see how we could go about that.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">hc_legend</span></span></code></pre></div>
<p>Forgetting the examples for now, the R help suggests no specific arguments for a <code>highcharts</code> legend <em>at all</em>. It’s not immediately obvious what’s required or valid as an input to the <code><a href="../reference/hc_legend.html">hc_legend()</a></code> function, let alone how we could add the exact customisations that we want to our basic chart. What is provided is a link to the legend section of the <code>highcharts</code> API documentation which can be found <a href="http://api.highcharts.com/highcharts#legend" class="external-link">here</a> a screenshot of which is below.</p>
<p>The properties in the green box are an exhaustive list of the arguments (there are more than those shown) available for a <code>highcharts</code> legend. On the right each argument has a short description, definition of valid argument values and sometimes a link to an example (powered by JSFiddle) where you can see the argument being used in a real chart.</p>
<p>Searching through the list of options the <code>layout</code> property looks like the right option to control the item arrangement, which we can confirm by clicking through to the JSFiddle <a href="https://jsfiddle.net/gh/get/library/pure/highcharts/highcharts/tree/master/samples/highcharts/legend/layout-vertical/" class="external-link">example</a>. JSFiddle provides a self-contained environment to see and tweak javascript <code>highcharts</code> and it’s helpful to see exactly what each argument does. Below we can see the <code>layout</code> does indeed reorient the legend items and in this example we also see handily that <code>verticalAlign</code> moves the legend up and down the chart area and <code>align</code> performs the same operation horizontally.</p>
<p>So it seems that the right set of legend properties we need to adjust in the legend are:</p>
<ul>
<li>
<code>layout</code>, <code>align</code>, <code>verticalAlign</code> as we see above.</li>
<li>
<code>floating</code> allows the legend to float within the plot area.</li>
<li>
<code>x</code> and <code>y</code> are manual vertical adjustments in pixels we can use to lift the legend to just inside the chart area.</li>
</ul>
<p>To adjust these properties in R (where the properties are single strings or numbers) it’s a direct translation from javascript property to R function argument like so:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/hc_legend.html">hc_legend</a></span><span class="op">(</span></span>
<span>    layout <span class="op">=</span> <span class="st">"vertical"</span>,</span>
<span>    align <span class="op">=</span> <span class="st">"left"</span>,</span>
<span>    verticalAlign <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>    floating <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    x <span class="op">=</span> <span class="fl">90</span>,</span>
<span>    y <span class="op">=</span> <span class="fl">45</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>Halfway there, now we just need to add the legend title. There are some arguments in the API documentation that look like sets of nested properties. Importantly for this exercise, the <code>title</code> argument look exactly like one of these properties.</p>
<p>The drop-down + curly braces (highlighted in green) on an argument like this tell you that what <code>highcharts</code> expects here is a self-contained set of properties that sit within the border property set. In this case the title property takes two arguments <code>text</code> and <code>style</code> which define the title text of the legend and the legend title CSS style respectively.</p>
<p>To correctly create this hierarchical set of properties within the R <code><a href="../reference/hc_legend.html">hc_legend()</a></code> function we need to use named lists. Each time the API documentation defines an property to be it’s own self-contained object within a broader set of properties you simply open a new list in your R function call. This will mean that sometimes the values provided to arguments within <code>highcharter</code> functions are nested lists with 2 or even 3 levels. This can seem complicated, but having the API documentation as a reference makes the process trivially easy.</p>
<p>Style is a special set of properties, not enumerated in the documentation, that apply <a href="https://www.w3schools.com/cssref/" class="external-link">any CSS style</a> to a given chart component. Putting this all together alongside the previous adjustments: defining the legend header text and adding an underline to the legend header (with a CSS property) looks like this:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hc</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/hc_legend.html">hc_legend</a></span><span class="op">(</span></span>
<span>    layout <span class="op">=</span> <span class="st">"vertical"</span>,</span>
<span>    align <span class="op">=</span> <span class="st">"left"</span>,</span>
<span>    verticalAlign <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>    floating <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    x <span class="op">=</span> <span class="fl">90</span>,</span>
<span>    y <span class="op">=</span> <span class="fl">45</span>,</span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      text <span class="op">=</span> <span class="st">"Species"</span>,</span>
<span>      style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        textDecoration <span class="op">=</span> <span class="st">"underline"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>CSS properties are often hyphenated words (like <code>text-decoration</code>) which won’t play nicely in R lists so you should define any CSS properties in your R lists with camel case version of these property names (eg. <code>textDecoration</code>).</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The many functions built for the highcharter package are closely coupled to options and classes available for the javascript library. These options are very well documented in the extensive highchartsJS API reference documentation. Loosely understanding this coupling: how functions and their arguments map to build JSON objects that define javascript Highcharts should supercharge your use of the R package.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joshua Kunst.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
